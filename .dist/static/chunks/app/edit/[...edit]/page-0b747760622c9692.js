(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{1594:(e,t,a)=>{Promise.resolve().then(a.bind(a,5586))},5586:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(5155),r=a(5988),l=a(9642),s=a(5695),o=a(2115);function c(){let e=(0,s.usePathname)().split("/"),t=e[e.length-1],a=(0,r.A)("".concat(l.Q,"/users/").concat(t),t),[c,i]=(0,o.useState)(null);return a.isLoad?(0,n.jsxs)("form",{className:"max-w-4xl px-5 py-12 min-h-screen w-full flex flex-col gap-10 items-center mx-auto",onSubmit:function(e){if(e.preventDefault(),document.getElementById("name").value.length>=250){i("Username must be shorter than 250 symbols");return}if(document.getElementById("about").value.length<=100){i("Description must be longer than 100 symbols");return}localStorage.setItem("".concat(t),JSON.stringify({...a.data,...Object.fromEntries(new FormData(e.target))})),console.log(localStorage.getItem("".concat(t))),(0,s.redirect)("".concat(l.$,"/"),"replace")},children:[c&&(0,n.jsx)("label",{className:"text-xl text-red-500",children:c}),(0,n.jsx)(u,{placeholder:"Change username",name:"name",label:"Put in field the new username",defaulValue:a.data.name}),(0,n.jsx)(u,{placeholder:"Write new description",name:"about",label:'Put in field new "about" description for user',defaulValue:a.data.about}),(0,n.jsx)("button",{className:"cursor-pointer py-3 px-5 rounded-full shadow-md text-base flex items-center gap-2.5 border-gray-200 border-2",children:"Save changes"})]}):(0,n.jsx)(n.Fragment,{})}function u(e){let{placeholder:t,name:a,label:r,defaulValue:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{htmlFor:a,className:"text-xl",children:r}),(0,n.jsx)("input",{placeholder:t,name:a,id:a,defaultValue:l,className:"w-full outline-none px-5 py-3 rounded-full placeholder:text-base border-2 border-gray-200"})]})}},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"redirect")&&a.d(t,{redirect:function(){return n.redirect}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}})},5988:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(2115);function r(e,t){let[a,r]=(0,n.useState)({data:null,isLoad:!1,isChecked:!1});return(0,n.useEffect)(()=>{a.isChecked||async function(){try{if(localStorage.getItem("".concat(t)))r({data:JSON.parse(localStorage.getItem("".concat(t))),isLoad:!0,isChecked:!0});else{let t=await fetch(e,{method:"GET"});if(t.ok)r({data:await t.json(),isLoad:!0,isChecked:!0});else throw Error(t.status)}}catch(e){console.log(e),r({...a,isChecked:!0})}}()}),a}},9642:(e,t,a)=>{"use strict";a.d(t,{$:()=>n,Q:()=>r});let n="http://localhost:3000",r="https://67dc4306e00db03c406778bd.mockapi.io/api"}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(1594)),_N_E=e.O()}]);